<div class="abris-table-resizable-container">
  <div class="abris-table-scroll-container">
    <table class="abris-table">
      <thead class="abris-table__header abris-table-sticky-component">
        <tr class="abris-table-header-tools">
          <th class="abris-table-header-tools__cell abris-table-group-header-technical-cell" colspan="100%">
            <div class="abris-table-header-tools__container">
              <div class="abris-table-preheader">

                <!-- ko ifnot: $data.viewModel -->
                <div class="abris-table-search-group">
                  <abris-actions class="abris-table-actions" params="model: $data, options: { action: 'topActions' }">
                  </abris-actions>
                  <abris-dropdown-actions class="abris-table-dropdown abris-table-actions-menu"
                    params="data: $data, actions: 'dropdownActions'">
                  </abris-dropdown-actions>
                </div>
                <!-- /ko -->

                <!-- ko if: $data.viewModel -->
                <div class="abris-table-search-group">
                  <abris-search params="model: viewModel, options: { data: 'filterBuilder' }"></abris-search>
                  <abris-actions class="abris-table-actions"
                    params="model: $data.viewModel, options: {action: 'mainContextActions' }"></abris-actions>
                  <abris-dropdown-wrapper class="abris-table-dropdown abris-table-actions-menu"
                    params="template: 'table-view-context-actions-template', data: $data.viewModel">
                  </abris-dropdown-wrapper>
                </div>
                <div class="abris-table-advanced-settings">
                  <abris-samplesettings-panel params="model: viewModel" data-bind="visible: viewModel.showTools">
                  </abris-samplesettings-panel>
                  <abris-dropdown-menu class="abris-button-more" data-bind="visible: $parent.showConstructor"
                    params="model: viewModel, options: {selectedItem: 'propertyItemToAdd',  getItems: 'getItems', emptyText: 'Открыть связанную колонку', icon: 'add-column' }">
                  </abris-dropdown-menu>
                </div>
                <!-- /ko -->
              </div>
              <div class="abris-table-filter" data-bind="visible: viewFilterTable">
                <div class="abris-table-filter__container">
                  <!-- ko foreach: columns -->
                  <!-- ko if: $data.filterComponentName -->
                  <!-- ko component: { name: filterComponentName, params: filterContext } -->
                  <!-- /ko -->
                  <!-- /ko -->
                  <!-- /ko -->
                </div>
              </div>
            </div>
          </th>
        </tr>
        <tr class="abris-table-header-title">
          <th class="abris-table-header-title__cell abris-table-switch">
            <div class="abris-table-switch__text"
              data-bind="css: {'switch__text--selected': isNumber}, click: ()=>isNumber(!isNumber())">#</td>
          </th>
          <!-- ko foreach: columns -->
          <!-- ko if: visible -->
          <th class="abris-table-header-title__cell"
            data-bind="event: {mouseout: $parent.logMouseOut, mousemove: $parent.logMouseMove, mouseup: $parent.logMouseUp}">
            <div class="abris-table-title">
              <span class="abris-table-title__text" data-bind="html: title, click: $parent.clickColumn"></span>
              <div class="abris-table-title__tools">
                <svg class="abris-svg-icon abris-table-title__sorter" data-bind="visible: order() === false">
                  <use xlink:href="spritemap.svg#sprite-icon_sort-up"></use>
                </svg>
                <svg class="abris-svg-icon abris-table-title__sorter" data-bind="visible: order() === true">
                  <use xlink:href="spritemap.svg#sprite-icon_sort-down"></use>
                </svg>
                <svg class="abris-svg-icon abris-table-title__filter" data-bind="click: $parent.clickFilter">
                  <use xlink:href='spritemap.svg#sprite-icon_filter'></use>
                </svg>
              </div>
            </div>
            <div class="abris-table-title_resize"
              data-bind="event: {mouseover: $parent.logMouseOver, mouseout: $parent.logMouseOut, mousemove: $parent.logMouseMove, mouseup: $parent.logMouseUp, mousedown: $parent.logMouseDown}">
            </div>
          </th>
          <!-- /ko -->
          <!-- /ko -->
          <th class="abris-table-header-title__cell"></th>
        </tr>
      </thead>
      <tbody class="abris-table__body">
        <!-- ko if: rows().length == 0 -->
        <tr class="abris-table__row">
          <th class="abris-table__cell" colspan="100%">Данных нет</th>
        </tr>
        <!-- /ko -->
        <!-- ko foreach: {data: rows} -->
        <tr class="abris-table__row" data-bind=" css: {'abris-table__row--selected': selected}">
          <td class="abris-table__cell abris-table-technical-cell" data-bind="click: select">
            <div class="abris-table-technical-cell__container">
              <!-- ko if: $parent.isNumber() -->
              <div class="abris-table__number" data-bind="text: number"></div>
              <!-- /ko -->
              <!-- ko if: !$parent.isNumber() -->
              <div class="abris-table__check">
                <svg class="abris-svg-icon abris-table__icon-check" data-bind="visible: selected">
                  <use xlink:href="spritemap.svg#sprite-icon_check"></use>
                </svg>
              </div>
              <!-- /ko -->
            </div>
          </td>
          <!-- ko foreach: cells -->
          <td class="abris-table__cell"
            data-bind="attr: {rowspan: $parents[1].isMergedСells() ? count() : 1}, style: {background: color}, visible: (count() > 0) || !$parents[1].isMergedСells()">
            <!-- ko ifnot: inplaceEditForm -->
            <!-- ko ifnot: (count() > 1) && $parents[1].isMergedСells() -->
            <div class="abris-table-cell__container" data-bind="css: css">
              <span class="abris-table-cell__text" data-bind="html: text, click: $parents[1].startEditCell"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: (count() > 1) && $parents[1].isMergedСells() -->
            <span class="abris-table-cell__merged-text"
              data-bind="html: text, style: {top: $parents[1].tableHeadHeight() + 'px'}, click: $parents[1].startEditCell, css: (count() > 1) && $parents[1].isMergedСells() ? 'cell__sticky-text' : ''"></span>
            <!-- /ko -->
            <!-- /ko -->
            <!-- ko if: inplaceEditForm -->
            <div data-bind="childView: { model: inplaceEditForm, detailViewId: 'cell-detail' }, model: inplaceEditForm">
            </div>
            <!-- /ko -->
          </td>
          <!-- /ko -->
          <td class="abris-table__cell abris-table-technical-cell" data-bind="click: click">
            <div class="abris-table-technical-cell__container">
              <svg class="abris-svg-icon abris-table-icon-row-tools abris-table__more">
                <use xlink:href="spritemap.svg#sprite-icon_more"></use>
              </svg>
              <svg class="abris-svg-icon abris-table-icon-row-tools abris-table__edit">
                <use xlink:href="spritemap.svg#sprite-icon_edit"></use>
              </svg>
            </div>
            <div class="abris-table__row--select" data-bind="visible: !$parent.hasActiveInplaceEditor"></div>
          </td>
        </tr>
        <!-- /ko -->
      </tbody>
      <tfoot class="abris-table__footer abris-table-sticky-component">
        <tr class="abris-table-footer-summary" data-bind="visible: showTableSummary">
          <th class="abris-table__cell abris-table-technical-cell abris-table-footer__cell">
            <div class="abris-table-technical-cell__container">
              <svg class="abris-svg-icon abris-table-icon-equal">
                <use xlink:href="spritemap.svg#sprite-icon_equal"></use>
              </svg>
            </div>
          </th>
          <!-- ko foreach: columns -->
          <!-- ko if: visible -->
          <th class="abris-table__cell abris-table-footer__cell">
            <abris-table-summary params='column: $data'></abris-table-summary>
          </th>
          <!-- /ko -->
          <!-- /ko -->
          <th class="abris-table__cell abris-table-technical-cell abris-table-footer__cell"></th>
        </tr>
        <tr class="abris-table-footer-tools">
          <th class="abris-table-footer-tools__cell abris-table-group-header-technical-cell" colspan="100%">
            <div class="abris-table-footer-tools__container">
              <div class="abris-table-row-management">
                <!-- ko if: $data.viewModel -->
                <abris-actions class="abris-table-row-management__actions"
                  params="model: $data.viewModel, options: {action: 'footerContextActions' }"></abris-actions>
                <!-- /ko -->
              </div>
              <div class="abris-table-info">
                <span class="abris-table-info__total abris-table-info__text"
                  data-bind="text: 'Всего: ' + totalCount()"></span>
                <div class="abris-table-info__go-to">
                  <span class="abris-table-go-to__text abris-table-info__text">Перейти к </span>
                  <input class="abris-table-go-to__value" data-bind="value: startRow">
                  <button class="abris-btn-transparent">
                    <svg class="abris-svg-icon">
                      <use xlink:href="spritemap.svg#sprite-icon_arrow-right"></use>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </th>
        </tr>
      </tfoot>
    </table>
  </div>
</div>