<div class="resizableContainer">
  <div class="scrollContainer">
    <table class="abris-dataTable">
      <thead>
        <tr class="table-header-actions">
          <th colspan="100%">
            <div class="table-header-actions-container">
              <div class="table-preheader">
                <!-- ko if: $data.viewModel -->
                <div class="search-group">
                  <abris-search params="model: viewModel, options: { data: 'filterBuilder' }"></abris-search>
                  <abris-actions class="table-actions"
                    params="model: $data.viewModel, options: {action: 'mainContextActions' }"></abris-actions>
                  <abris-dropdown-wrapper class="dropdown actions-menu"
                    params="template: 'table-view-context-actions-template', data: $data.viewModel">
                  </abris-dropdown-wrapper>
                </div>
                <div class="abrs-advanced-settings">
                  <div class="abrs-samplesettings-panel-row" data-bind="visible: viewModel.showTools">
                    <abris-samplesettings-panel params="model: viewModel"></abris-samplesettings-panel>
                  </div>
                  <div class="abris-add-table-column" data-bind="visible: $parent.showConstructor">
                    <abris-dropdown-menu
                      params="model: viewModel, options: {selectedItem: 'propertyItemToAdd',  getItems: 'getItems', emptyText: 'Открыть связанную колонку', icon: 'add-column' }">
                    </abris-dropdown-menu>
                  </div>
                </div>
                <!-- /ko -->
              </div>
              <div class="table-filter" data-bind="visible: viewFilterTable">
                <div class="table-filter-container">
                  <!-- ko foreach: columns -->
                  <!-- ko if: $data.filterComponentName -->
                  <!-- ko component: { name: filterComponentName, params: filterContext } -->
                  <!-- /ko -->
                  <!-- /ko -->
                  <!-- /ko -->
                </div>
              </div>
            </div>
          </th>
        </tr>
        <!--<tr class="table-header-filter"> 
            <th colspan="100%">
              <div class="table-preheader-filter"> 
                <div class="">
                  <abris-filter-builder params="model: viewModel, options: { data: 'filterBuilder' }"></filter-builder>
                </div> 
              </div>
            </th>
          </tr>-->
        <tr class="table-header">
          <th class="select_number">
            <div data-bind="css: {selected: isNumber}, click: ()=>isNumber(!isNumber())">#</td>
          </th>
          <!-- ko foreach: columns -->
          <!-- ko if: visible -->
          <th
            data-bind="event: {mouseout: $parent.logMouseOut, mousemove: $parent.logMouseMove, mouseup: $parent.logMouseUp}">
            <div class="th-container">
              <span class="caption" data-bind="html: title, click: $parent.clickColumn"></span>
              <div class="th-actions">
                <svg class="svg-icon sorter" data-bind="visible: order() === false">
                  <use xlink:href="spritemap.svg#sprite-icon_sort-up"></use>
                </svg>
                <svg class="svg-icon sorter" data-bind="visible: order() === true">
                  <use xlink:href="spritemap.svg#sprite-icon_sort-down"></use>
                </svg>
                <div class="abris-table-caption-filter" data-bind="click: $parent.clickFilter">
                  <svg class="svg-icon">
                    <use xlink:href='spritemap.svg#sprite-icon_filter'></use>
                  </svg>
                </div>
              </div>
            </div>
            <div class="resize"
              data-bind="event: {mouseover: $parent.logMouseOver, mouseout: $parent.logMouseOut, mousemove: $parent.logMouseMove, mouseup: $parent.logMouseUp, mousedown: $parent.logMouseDown}">
            </div>
          </th>
          <!-- /ko -->
          <!-- /ko -->
          <th>
          </th>
        </tr>
      </thead>
      <tbody>
        <!-- ko if: rows().length == 0 -->
        <tr>
          <th colspan="100%">Данных нет</th>
        </tr>
        <!-- /ko -->
        <!-- ko foreach: {data: rows} -->
        <tr data-bind=" css: {selected: selected}">
          <td class="row-first-col" data-bind="click: select">
            <div class="row-first-col-container">
              <!-- ko if: $parent.isNumber() -->
              <div class="row-number" data-bind="text: number"></div>
              <!-- /ko -->
              <!-- ko if: !$parent.isNumber() -->
              <div class="row-check">
                <svg class="svg-icon" data-bind="visible: selected">
                  <use xlink:href="spritemap.svg#sprite-icon_check"></use>
                </svg>
              </div>
              <!-- /ko -->
            </div>
          </td>
          <!-- ko foreach: cells -->
          <td
            data-bind="css: (count() > 1) && $parents[1].isMergedСells() ? 'row-rowspan' : 'td-not-rowsapan', attr: {rowspan: $parents[1].isMergedСells() ? count() : 1}, style: {background: color}, visible: (count() > 0) || !$parents[1].isMergedСells()  ">
            <!-- ko ifnot: inplaceEditForm -->
            <!-- ko ifnot: (count() > 1) && $parents[1].isMergedСells() -->
            <div class="td-content">
              <span data-bind="html: text, click: $parents[1].startEditCell"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: (count() > 1) && $parents[1].isMergedСells() -->
            <span
              data-bind="html: text, style: {top: $parents[1].tableHeadHeight() + 'px'}, click: $parents[1].startEditCell"></span>
            <!-- /ko -->
            <!-- /ko -->
            <!-- ko if: inplaceEditForm -->
            <div data-bind="childView: { model: inplaceEditForm, detailViewId: 'cell-detail' }, model: inplaceEditForm">
            </div>
            <!-- /ko -->
          </td>
          <!-- /ko -->
          <td class="row-last-col" data-bind="click: click">
            <div class="row-last-col-container">
              <svg class="svg-icon row-more">
                <use xlink:href="spritemap.svg#sprite-icon_more"></use>
              </svg>
              <svg class="svg-icon row-edit">
                <use xlink:href="spritemap.svg#sprite-icon_edit"></use>
              </svg>
            </div>
            <div class="row-select" data-bind="style: {background: color, opacity: 0.5}, visible: !$parent.hasActiveInplaceEditor"></div>
          </td>
        </tr>
        <!-- /ko -->
      </tbody>
      <tfoot>
        <tr class="abris-table-summary" data-bind="visible: showTableSummary">
          <th>
            <abris-icon params="{id: 'equal'}"></abris-icon>
          </th>
          <!-- ko foreach: columns -->
          <!-- ko if: visible -->
          <th class="row-summary-cell">
            <abris-table-summary params='column: $data'></abris-table-summary>
          </th>
          <!-- /ko -->
          <!-- /ko -->
          <th></th>
        </tr>
        <tr class="table-footer-actions">
          <th colspan="100%">
            <div class="table-footer-actions-container">
              <!-- ko if: $data.viewModel -->
              <abris-actions class="table-bottom-actions"
                params="model: $data.viewModel, options: {action: 'footerContextActions' }"></abris-actions>
              <!-- /ko -->
              <div class="rows-loaded">
                <div class="rows-loaded-status">
                  <span data-bind="text: 'Всего: ' + totalCount()"></span>
                </div>
                <div class="rows-go-to">
                  <span>Перейти к </span>
                  <input data-bind="value: startRow">
                  <button class="btn-transparent">
                    <svg class="svg-icon" data-bind="visible: startRow()">
                      <use xlink:href="spritemap.svg#sprite-icon_arrow-right"></use>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </th>
        </tr>
      </tfoot>
    </table>
  </div>
  <div></div>
</div>